# ä¼ä¸šçŸ¥è¯†ååŒä¸ä¸šåŠ¡ç®¡ç†å¹³å°

åŸºäº **Vue 3** + **Flask** çš„æ–°ä¸€ä»£ä¼ä¸šçŸ¥è¯†ååŒå¹³å°ï¼Œæ·±åº¦é›†æˆ **DeepSeek-R1** ç§æœ‰åŒ– AI æ¨¡å‹ã€‚å¹³å°é›†æˆäº†æ–‡æ¡£çŸ¥è¯†åº“ã€éšç§ç©ºé—´ã€ä¼ä¸šçº§å·¥ä½œæµã€AI æ™ºèƒ½åŠ©æ‰‹ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ—¨åœ¨ä¸ºå›¢é˜Ÿæä¾›å®‰å…¨ã€é«˜æ•ˆã€æ™ºèƒ½çš„åä½œç¯å¢ƒã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ·±åº¦é›†æˆ DeepSeek-R1 AI
- **ç§æœ‰åŒ–éƒ¨ç½²**ï¼šåŸºäº Ollama å®¹å™¨åŒ–è¿è¡Œ `deepseek-r1:1.5b` æ¨¡å‹ï¼Œæ•°æ®å®Œå…¨æœ¬åœ°åŒ–ï¼Œå®‰å…¨å¯æ§ã€‚
- **æ™ºèƒ½å¯¹è¯**ï¼šæä¾›ç±»ä¼¼ ChatGPT çš„äº¤äº’ä½“éªŒï¼Œæ”¯æŒä»£ç ç¼–å†™ã€é—®é¢˜è§£ç­”ã€åˆ›æ„ç”Ÿæˆã€‚æ”¯æŒæ‰“å­—æœºæµå¼è¾“å‡ºã€Markdown æ¸²æŸ“ã€ä»£ç é«˜äº®ã€‚
- **æ–‡æ¡£æ™ºèƒ½æ€»ç»“**ï¼šä¸€é”®ç”Ÿæˆæ–‡æ¡£æ‘˜è¦ï¼Œå¿«é€ŸæŠŠæ¡é•¿æ–‡æ ¸å¿ƒè¦ç‚¹ã€‚
- **ä¼šè¯ç®¡ç†**ï¼šæ”¯æŒå¤šä¼šè¯ç®¡ç†ã€å†å²è®°å½•æŒä¹…åŒ–ã€ä¼šè¯é‡å‘½åä¸ç½®é¡¶ã€‚

### ğŸ“š ä¼ä¸šçº§æ–‡æ¡£ä¸­å¿ƒ
- **å…¨èƒ½ç¼–è¾‘å™¨**ï¼šé›†æˆ `wangEditor`ï¼Œæ”¯æŒå¯Œæ–‡æœ¬ç¼–è¾‘ã€å›¾ç‰‡ä¸Šä¼ ã€è¡¨æ ¼ã€å¼•ç”¨ç­‰ã€‚
- **éšç§ç©ºé—´**ï¼šæä¾›**åŠ å¯†å­˜å‚¨**çš„éšç§æ–‡æ¡£ç©ºé—´ï¼Œæ”¯æŒç‹¬ç«‹çš„äºŒçº§å¯†ç éªŒè¯å’Œè‡ªåŠ¨é”å®šï¼Œç¡®ä¿æ•æ„Ÿæ•°æ®å®‰å…¨ã€‚
- **å…¨æ–‡æ£€ç´¢**ï¼šåŸºäº **Elasticsearch** çš„æ¯«ç§’çº§å…¨æ–‡æœç´¢å¼•æ“ï¼Œæ”¯æŒæ ‡é¢˜å’Œå†…å®¹æ£€ç´¢ã€‚
- **å›æ”¶ç«™æœºåˆ¶**ï¼šæ”¯æŒæ–‡æ¡£è½¯åˆ é™¤ã€æ¢å¤å’Œå®šæ—¶æ¸…ç†ï¼Œé˜²æ­¢è¯¯åˆ ã€‚
- **æ–‡æ¡£ç®¡ç†**ï¼šæ”¯æŒæ–‡ä»¶å¤¹å±‚çº§ç®¡ç†ã€æ‹–æ‹½æ’åºã€ç½®é¡¶ã€å¯¼å…¥å¯¼å‡ºã€‚
- **æ–‡ä»¶ä¸­å¿ƒ**ï¼šåŸºäº **MinIO** çš„å¯¹è±¡å­˜å‚¨ï¼Œæ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ ã€é¢„è§ˆï¼ˆPDF/Markdown/å›¾ç‰‡ï¼‰å’Œä¸‹è½½ã€‚

### ğŸ§© ååŒåŠå…¬å¥—ä»¶
- **æ—¥ç¨‹ä¼šè®®**ï¼šä¸ªäººæ—¥ç¨‹ç®¡ç†ã€å›¢é˜Ÿä¼šè®®é¢„çº¦ã€å†²çªæ£€æµ‹ã€‚
- **å·¥ä½œçœ‹æ¿**ï¼šTrello é£æ ¼çš„ä»»åŠ¡çœ‹æ¿ï¼Œæ”¯æŒæ‹–æ‹½æµè½¬ã€ä»»åŠ¡åˆ†é…ã€ä¼˜å…ˆçº§ç®¡ç†ã€‚
- **å®¡æ‰¹æµç¨‹**ï¼šè‡ªå®šä¹‰å®¡æ‰¹æµï¼ˆè¯·å‡ã€æŠ¥é”€ã€é‡‡è´­ï¼‰ï¼Œæ”¯æŒå¤šçº§å®¡æ‰¹å’ŒçŠ¶æ€è¿½è¸ªã€‚
- **å…¬å‘ŠæŠ•ç¥¨**ï¼šä¼ä¸šå…¬å‘Šå‘å¸ƒã€å†…éƒ¨é—®å·è°ƒæŸ¥å’ŒæŠ•ç¥¨ç»Ÿè®¡ã€‚
- **çŸ¥è¯†åº“**ï¼šæ²‰æ·€å›¢é˜ŸçŸ¥è¯†ï¼Œæ”¯æŒç‰ˆæœ¬æ§åˆ¶å’Œæƒé™ç®¡ç†ã€‚
- **åé¦ˆä¸­å¿ƒ**ï¼šæ”¶é›†å‘˜å·¥å»ºè®®å’Œç³»ç»Ÿåé¦ˆã€‚

## æŠ€æœ¯æ¶æ„

é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„å¾®æœåŠ¡åŒ–æ¶æ„ï¼ˆåŸºäº Docker Composeï¼‰ï¼š

### å‰ç«¯ (Frontend)
- **æ ¸å¿ƒæ¡†æ¶**ï¼šVue 3, Vite
- **UI ç»„ä»¶åº“**ï¼šElement Plus
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **è·¯ç”±ç®¡ç†**ï¼šVue Router
- **å·¥å…·åº“**ï¼šAxios, Day.js, Marked, Highlight.js
- **ç¼–è¾‘å™¨**ï¼šwangEditor

### åç«¯ (Backend)
- **æ ¸å¿ƒæ¡†æ¶**ï¼šFlask (Python 3.12)
- **ORM**ï¼šSQLAlchemy
- **è®¤è¯**ï¼šFlask-JWT-Extended
- **ä»»åŠ¡è°ƒåº¦**ï¼šAPScheduler
- **åŠ å¯†**ï¼šCryptography (Fernet)

### åŸºç¡€è®¾æ–½ (Infrastructure)
- **æ•°æ®åº“**ï¼šMySQL 8.0
- **æœç´¢å¼•æ“**ï¼šElasticsearch 7.17
- **å¯¹è±¡å­˜å‚¨**ï¼šMinIO
- **ç¼“å­˜/æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRedis
- **AI è¿è¡Œæ—¶**ï¼šOllama (DeepSeek-R1)
- **åå‘ä»£ç†**ï¼šNginx

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Docker & Docker Compose

### éƒ¨ç½²ä¸å¯åŠ¨

1. **å…‹éš†é¡¹ç›®å¹¶è¿›å…¥ docker ç›®å½•**
   ```bash
   cd docker
   ```

2. **ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡**
   ```bash
   docker compose up -d
   ```

3. **åˆå§‹åŒ–æ¨¡å‹ (é¦–æ¬¡è¿è¡Œ)**
   ```bash
   # ä¸‹è½½ DeepSeek-R1 æ¨¡å‹
   docker compose exec ollama ollama pull deepseek-r1:1.5b
   ```

4. **åˆå§‹åŒ–æ•°æ®**
   ```bash
   # åˆå§‹åŒ– MySQL è¡¨ç»“æ„ (å«é»˜è®¤è´¦æˆ·)
   docker compose exec backend python scripts/init_mysql.py

   # åˆå§‹åŒ– Elasticsearchç´¢å¼•
   docker compose exec backend python scripts/init_es.py

   # åˆå§‹åŒ– MinIO å­˜å‚¨æ¡¶
   docker compose exec backend python scripts/init_minio.py
   ```
   > æˆ–è€…ç›´æ¥è¿è¡Œç»¼åˆåˆå§‹åŒ–è„šæœ¬ï¼š
   > ```bash
   > docker compose exec backend bash scripts/init_services.sh
   > ```

### è®¿é—®æœåŠ¡

| æœåŠ¡ | åœ°å€ | é»˜è®¤è´¦å· | é»˜è®¤å¯†ç  |
| description | URL | Username | Password |
| --- | --- | --- | --- |
| **å‰ç«¯åº”ç”¨** | http://localhost | `admin` | `admin` |
| **åç«¯ API** | http://localhost/api | - | - |
| **MinIO æ§åˆ¶å°** | http://localhost:9001 | `minioadmin` | `minioadmin` |
| **Elasticsearch** | http://localhost:9200 | `elastic` | `elastic` |

## ç›®å½•ç»“æ„

```
â”œâ”€â”€ backend/              # Flask åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/              # ä¸šåŠ¡é€»è¾‘ä»£ç 
â”‚   â”‚   â”œâ”€â”€ ai/           # AI æ¨¡å— (Ollama é›†æˆ)
â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ docs/         # æ–‡æ¡£ä¸éšç§ç©ºé—´
â”‚   â”‚   â”œâ”€â”€ models/       # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·ç±» (MinIO, ES, åŠ å¯†)
â”‚   â”œâ”€â”€ scripts/          # åˆå§‹åŒ–ä¸è¿ç»´è„šæœ¬
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/             # Vue 3 å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/        # é¡µé¢è§†å›¾ (AIChat, DocumentList ç­‰)
â”‚   â”‚   â”œâ”€â”€ components/   # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ assets/       # é™æ€èµ„æº
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker/               # å®¹å™¨åŒ–éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml # æœåŠ¡ç¼–æ’
â”‚   â””â”€â”€ nginx.conf        # ç½‘å…³é…ç½®
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## æ›´æ–°æ—¥å¿—

- **2024-12**: æ·±åº¦é›†æˆ DeepSeek-R1 æ¨¡å‹ï¼Œæ–°å¢ AI èŠå¤©ä¸æ–‡æ¡£æ€»ç»“åŠŸèƒ½ã€‚
- **2024-12**: é‡æ„æ–‡æ¡£ç®¡ç†ç³»ç»Ÿï¼Œå¢åŠ éšç§ç©ºé—´ï¼ˆAES åŠ å¯†ï¼‰ã€‚
- **2024-11**: åˆå§‹åŒ–é¡¹ç›®æ¶æ„ï¼Œå®ŒæˆåŸºç¡€æ¨¡å—å¼€å‘ã€‚

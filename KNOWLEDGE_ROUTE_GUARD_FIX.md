# çŸ¥è¯†åº“æ–°æ ‡ç­¾é¡µæ‰“å¼€åŠŸèƒ½æœ€ç»ˆä¿®å¤

## âœ… é—®é¢˜çš„æ ¹æº

ç”¨æˆ·åé¦ˆä¿®å¤åä»ç„¶è·³è½¬åˆ°"å·¥ä½œæµç¨‹çœ‹æ¿"ï¼ˆç®¡ç†å‘˜åå°é¦–é¡µï¼‰ã€‚

**æ ¹æœ¬åŸå› **ï¼š
`router/index.js` ä¸­å­˜åœ¨ä¸€ä¸ªä¸¥æ ¼çš„è·¯ç”±å®ˆå«ï¼ˆNavigation Guardï¼‰ï¼Œå®ƒå¼ºåˆ¶**ç®¡ç†å‘˜**èº«ä»½çš„ç”¨æˆ·åªèƒ½è®¿é—® `/admin` å¼€å¤´çš„é¡µé¢ã€‚

```javascript
// åŸæœ‰é€»è¾‘
if (isAdmin && !to.path.startsWith('/admin') ...) {
    next('/admin/kanban') // å¼ºåˆ¶è·³è½¬åˆ°çœ‹æ¿
}
```

å½“ç®¡ç†å‘˜ç‚¹å‡»"æ–°æ ‡ç­¾é¡µæ‰“å¼€"æ—¶ï¼ŒURL æ˜¯ `/knowledge/1`ã€‚è¿™ä¸ªè·¯å¾„ä¸ä»¥ `/admin` å¼€å¤´ï¼Œå› æ­¤è·¯ç”±å®ˆå«æ‹¦æˆªäº†è¯·æ±‚ï¼Œå¹¶å°†å…¶é‡å®šå‘åˆ°äº† `/admin/kanban`ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

ä¿®æ”¹è·¯ç”±å®ˆå«é€»è¾‘ï¼Œå…è®¸ç®¡ç†å‘˜è®¿é—® `/knowledge` å¼€å¤´çš„è·¯å¾„ã€‚

**ä»£ç å˜æ›´** (`frontend/src/router/index.js`)ï¼š
```javascript
// ä¿®æ”¹å
if (isAdmin && 
    !to.path.startsWith('/admin') && 
    !to.path.startsWith('/knowledge') && // âœ… å…è®¸è®¿é—®çŸ¥è¯†åº“
    to.path !== '/login' && 
    to.path !== '/register') {
    next('/admin/kanban')
    return
}
```

## ğŸ“ æ€»ç»“

1. **ç¬¬ä¸€æ­¥**ï¼šå‰ç«¯ç”Ÿæˆ URL çš„é€»è¾‘ä»æ‰‹åŠ¨æ‹¼æ¥æ”¹ä¸º `router.resolve`ï¼Œç¡®ä¿ URL æ ¼å¼æ­£ç¡®ã€‚
2. **ç¬¬äºŒæ­¥**ï¼šæ”¾å®½è·¯ç”±å®ˆå«é™åˆ¶ï¼Œå…è®¸ç®¡ç†å‘˜è®¿é—®çŸ¥è¯†åº“è¯¦æƒ…é¡µã€‚

ç°åœ¨ï¼Œç®¡ç†å‘˜ç‚¹å‡»"æ–°æ ‡ç­¾é¡µæ‰“å¼€"ï¼Œå°†èƒ½å¤Ÿæ­£ç¡®çœ‹åˆ°æ–‡ç« è¯¦æƒ…é¡µï¼Œè€Œä¸ä¼šè¢«é‡å®šå‘ã€‚
